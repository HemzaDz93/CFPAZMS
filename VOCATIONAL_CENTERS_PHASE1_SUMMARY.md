# ๐ญ ูุฑุญูุฉ 1: ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุธุงู ูุฑุงูุฒ ุงูุชูููู ุงููููู

**Status:** โ **COMPLETED**

---

## ๐ ุงูููุฎุต ุงูุชูููุฐู

ุชู ุจูุฌุงุญ ุชุญููู ูุธุงู CfpaZMS ูู ูุธุงู ูุคุณุณุฉ ูุงุญุฏุฉ ุฅูู ูุธุงู **ูุชุนุฏุฏ ูุฑุงูุฒ ุงูุชูููู ุงููููู** ูุน ุงูุญูุงุธ ุนูู ุฌููุน ุงูููุฒุงุช ุงูููุฌูุฏุฉ.

---

## ๐ฏ ุงูุฃูุฏุงู ุงูููุญููุฉ

### 1๏ธโฃ ุชุญุฏูุซ User Roles โ
- ุฅุถุงูุฉ ุฏูุฑ **FOUNDER** - ุงููุคุณุณ / ูุฒูุฑ ุงูุชูููู ุงููููู
- ุฅุถุงูุฉ ุฏูุฑ **CENTER_MANAGER** - ูุฏูุฑ ูุฑูุฒ ุงูุชูููู
- ุฅุถุงูุฉ ุฏูุฑ **INSTRUCTOR** - ุงููุฏุฑุจ
- ุฅุถุงูุฉ ุฏูุฑ **TECHNICIAN** - ุงูููู
- ุฅุถุงูุฉ ุฏูุฑ **ADMIN_STAFF** - ุงูููุธู ุงูุฅุฏุงุฑู

### 2๏ธโฃ ุฅุถุงูุฉ Enums ุฌุฏูุฏุฉ โ
```python
โ VocationalCenterStatus - ุญุงูุฉ ุงููุฑูุฒ (ูุดุทุ ูุนุทูุ ุชุญุช ุงูุตูุงูุฉ)
โ TrainingLevel - ูุณุชูู ุงูุชุฏุฑูุจ (ุฃุณุงุณูุ ูุชูุฏูุ ูุชูุฏู ุฌุฏุงู)
โ TraineeStatus - ุญุงูุฉ ุงููุชุฏุฑุจ (ูุณุฌูุ ูุดุทุ ูุชุฎุฑุฌุ ุงููุทุน)
โ EquipmentCondition - ุญุงูุฉ ุงููุนุฏุฉ (ุฌุฏูุฏุ ุตุงูุญุ ุณูุกุ ุชุญุช ุงูุตูุงูุฉ)
โ ResourceType - ููุน ุงูููุงุฑุฏ (ูุนุฏุฉุ ุฃุฏุงุฉุ ูุงุฏุฉุ ูุชุงุจุ ุฅูุฎ)
โ TransferRequestStatus - ุญุงูุฉ ุทูุจ ุงูููู (7 ุญุงูุงุช)
โ MaintenanceType - ููุน ุงูุตูุงูุฉ (ุฏูุฑูุฉุ ุฅุตูุงุญุ ุทุงุฑุฆุฉ)
โ MaintenanceStatus - ุญุงูุฉ ุงูุตูุงูุฉ (ูุฌุฏููุฉุ ููุฏ ุงูุฅูุฌุงุฒุ ููุชููุฉ)
```

### 3๏ธโฃ ุชุญุฏูุซ Models ุงูููุฌูุฏุฉ โ

**User Model:**
- โ ุฅุถุงูุฉ `center_id` - ุฑุจุท ุงูููุธู ุจูุฑูุฒ ุงูุชูููู
- โ ุฅุถุงูุฉ ุงูุนูุงูุฉ `vocational_center`

**Item Model (ุงููุฎุฒูู):**
- โ ุฅุถุงูุฉ `center_id` - ุฑุจุท ุงููุงุฏุฉ ุจูุฑูุฒ ุงูุชูููู
- โ ุฅุถุงูุฉ `training_program_id` - ุฑุจุท ุจุงูุจุฑูุงูุฌ ุงูุชุฏุฑูุจู
- โ ุฅุถุงูุฉ `resource_type` - ููุน ุงูููุงุฑุฏ
- โ ุฅุถุงูุฉ `is_consumable` - ูู ูุงุจูุฉ ููุงุณุชููุงู
- โ ุฅุถุงูุฉ ุญููู ุฅุถุงููุฉ: `condition`, `location`, `purchase_date`, `warranty_expiry`

### 4๏ธโฃ ุฅูุดุงุก 5 ุฌุฏุงูู ุฌุฏูุฏุฉ โ

#### 1. **VocationalCenter** - ูุฑูุฒ ุงูุชูููู
```
๐ ุงูุญููู ุงูุฑุฆูุณูุฉ:
โโ code: ููุฏ ุงููุฑูุฒ (unique)
โโ name_ar / name_en: ุงูุงุณู ุจุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ
โโ ministry_name: ุงุณู ุงููุฒุงุฑุฉ
โโ directorate_name: ุงุณู ุงููุฏูุฑูุฉ
โโ manager_id: ูุฏูุฑ ุงููุฑูุฒ
โโ specialization: ุงูุชุฎุตุต ุงูุฑุฆูุณู
โโ capacity: ุงูุณุนุฉ ุงูุชุฏุฑูุจูุฉ
โโ budget_allocation: ุงูููุฒุงููุฉ ุงููุฎุตุตุฉ
โโ status: ุญุงูุฉ ุงููุฑูุฒ (active/inactive/under_maintenance)

๐ ุงูุนูุงูุงุช:
โโ employees (Users)
โโ training_programs (TrainingProgram)
โโ trainees (Trainee)
โโ inventory_items (Item)
โโ transfer_requests_from / to (EquipmentTransferRequest)
โโ maintenance_logs (MaintenanceLog)
```

#### 2. **TrainingProgram** - ุงูุจุฑูุงูุฌ ุงูุชุฏุฑูุจู
```
๐ ุงูุญููู ุงูุฑุฆูุณูุฉ:
โโ center_id: ูุฑูุฒ ุงูุชูููู
โโ code: ููุฏ ุงูุจุฑูุงูุฌ (unique)
โโ name_ar / name_en: ุงุณู ุงูุจุฑูุงูุฌ
โโ duration_hours: ูุฏุฉ ุงูุชุฏุฑูุจ ุจุงูุณุงุนุงุช
โโ duration_months: ูุฏุฉ ุงูุชุฏุฑูุจ ุจุงูุฃุดูุฑ
โโ level: ูุณุชูู ุงูุชุฏุฑูุจ
โโ instructor_id: ุงููุฏุฑุจ ุงูุฑุฆูุณู
โโ max_trainees: ุงูุญุฏ ุงูุฃูุตู ูููุชุฏุฑุจูู
โโ current_trainees: ุนุฏุฏ ุงููุชุฏุฑุจูู ุงูุญุงูููู
โโ start_date / end_date: ุชูุงุฑูุฎ ุงูุจุฑูุงูุฌ
โโ is_active: ูู ุงูุจุฑูุงูุฌ ูุดุท

๐ ุงูุนูุงูุงุช:
โโ center (VocationalCenter)
โโ instructor (User)
โโ trainees (Trainee)
โโ required_items (Item)
```

#### 3. **Trainee** - ุงููุชุฏุฑุจ
```
๐ ุงูุญููู ุงูุฑุฆูุณูุฉ:
โโ center_id: ูุฑูุฒ ุงูุชูููู
โโ program_id: ุงูุจุฑูุงูุฌ ุงูุชุฏุฑูุจู
โโ first_name / last_name: ุงูุงุณู ุงูุฃูู ูุงูุฃุฎูุฑ
โโ national_id: ุงูุฑูู ุงููุทูู (unique)
โโ email / phone: ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ
โโ enrollment_date: ุชุงุฑูุฎ ุงูุชุณุฌูู
โโ graduation_date: ุชุงุฑูุฎ ุงูุชุฎุฑุฌ
โโ status: ุญุงูุฉ ุงููุชุฏุฑุจ
โโ notes: ููุงุญุธุงุช

๐ ุงูุนูุงูุงุช:
โโ center (VocationalCenter)
โโ program (TrainingProgram)
```

#### 4. **EquipmentTransferRequest** - ุทูุจ ููู ุงููุนุฏุงุช
```
๐ ูุฑุงุญู ุงูููุงููุฉ (3 ูุฑุงุญู):
โโ 1๏ธโฃ from_manager_approval: ููุงููุฉ ูุฏูุฑ ุงููุฑูุฒ ุงููุตุฏุฑ
โโ 2๏ธโฃ to_manager_approval: ููุงููุฉ ูุฏูุฑ ุงููุฑูุฒ ุงููุณุชูุจู
โโ 3๏ธโฃ founder_approval: ููุงููุฉ ุงููุคุณุณ

๐ ุงูุญููู:
โโ from_center_id / to_center_id: ุงููุฑุงูุฒ
โโ item_id: ุงููุงุฏุฉ/ุงููุนุฏุฉ
โโ quantity: ุงููููุฉ ุงููุทููุจ ููููุง
โโ reason: ุณุจุจ ุงูุทูุจ
โโ priority: ุงูุฃููููุฉ (urgent/normal/low)
โโ requested_by_id: ุทุงูุจ ุงูุทูุจ
โโ status: ุงูุญุงูุฉ ุงูููุงุฆูุฉ (pending/approved/rejected/completed)
โโ transfer_date: ุชุงุฑูุฎ ุชูููุฐ ุงูููู
โโ transfer_notes: ููุงุญุธุงุช ุงูููู

๐ ุงูุนูุงูุงุช:
โโ from_center (VocationalCenter)
โโ to_center (VocationalCenter)
โโ item (Item)
โโ requested_by (User)
โโ from_manager (User)
โโ to_manager (User)
โโ founder (User)
โโ transferred_by (User)
```

#### 5. **MaintenanceLog** - ุณุฌู ุงูุตูุงูุฉ
```
๐ ุงูุญููู ุงูุฑุฆูุณูุฉ:
โโ center_id: ูุฑูุฒ ุงูุชูููู
โโ item_id: ุงููุนุฏุฉ
โโ maintenance_type: ููุน ุงูุตูุงูุฉ (preventive/corrective/emergency)
โโ description: ูุตู ุงูุตูุงูุฉ
โโ performed_by_id: ุงูููู ุงูุฐู ูุงู ุจุงูุตูุงูุฉ
โโ maintenance_date: ุชุงุฑูุฎ ุงูุตูุงูุฉ
โโ next_maintenance_date: ุชุงุฑูุฎ ุงูุตูุงูุฉ ุงููุงุฏูุฉ
โโ cost: ุชูููุฉ ุงูุตูุงูุฉ
โโ status: ุญุงูุฉ ุงูุตูุงูุฉ
โโ notes: ููุงุญุธุงุช

๐ ุงูุนูุงูุงุช:
โโ center (VocationalCenter)
โโ item (Item)
โโ performed_by (User)
```

---

## ๐ ุงูุจูุงูุงุช ุงูุฃูููุฉ

### ูุฑุงูุฒ ุงูุชูููู ุงููููุดุฃุฉ (4 ูุฑุงูุฒ):

| ุงูููุฏ | ุงูุงุณู | ุงูุชุฎุตุต | ุงูุณุนุฉ | ุงูููุฒุงููุฉ |
|------|-------|--------|------|----------|
| VTC-001 | Mechanics Center | Mechanics | 100 | 500,000 |
| VTC-002 | Electrical Center | Electricity | 80 | 450,000 |
| VTC-003 | Electronics Center | Electronics | 60 | 400,000 |
| VTC-004 | Construction Center | Building & Construction | 90 | 480,000 |

### ุญุณุงุจุงุช ุงููุณุชุฎุฏููู:

**ุงููุคุณุณ (Founder):**
```
Username: founder
Password: founder123
Role: FOUNDER
Center: None (ูุดุฑู ุนูู ุฌููุน ุงููุฑุงูุฒ)
```

**ูุฏูุฑู ุงููุฑุงูุฒ (Center Managers):**
```
manager_0 / manager123 โ VTC-001 (Mechanics)
manager_1 / manager123 โ VTC-002 (Electrical)
manager_2 / manager123 โ VTC-003 (Electronics)
manager_3 / manager123 โ VTC-004 (Construction)
```

---

## ๐ง ุงูุชุนุฏููุงุช ุงูุชูููุฉ

### ููู `models.py`:
```
โ ุฅุถุงูุฉ 8 enums ุฌุฏูุฏุฉ (lines 50-112)
โ ุชุญุฏูุซ UserRole (lines 11-25)
โ ุชุญุฏูุซ User model - ุฅุถุงูุฉ center_id (line 168)
โ ุชุญุฏูุซ Item model - ุฅุถุงูุฉ ุญููู vocational center (lines 296-323)
โ ุฅุถุงูุฉ 5 models ุฌุฏูุฏุฉ (lines 2708-2874)
  - VocationalCenter
  - TrainingProgram
  - Trainee
  - EquipmentTransferRequest
  - MaintenanceLog
```

### ููู `init_vocational_centers.py`:
ุณูุฑูุจุช ุชููุฆุฉ ุดุงูู ูููู ุจู:
- โ ุฅูุดุงุก ุฌููุน ุงูุฌุฏุงูู
- โ ุฅูุดุงุก ุญุณุงุจ ุงููุคุณุณ
- โ ุฅูุดุงุก 4 ูุฑุงูุฒ ุชูููู
- โ ุฅูุดุงุก ูุฏูุฑู ุงููุฑุงูุฒ

---

## ๐ ุงูุฅุญุตุงุฆูุงุช:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ Database Statistics             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ โ ุฌุฏุงูู ุฌุฏูุฏุฉ: 5              โ
โ โ ุญููู ููุถุงูุฉ: 15+            โ
โ โ ุนูุงูุงุช ุฌุฏูุฏุฉ: 20+           โ
โ โ Enums ุฌุฏูุฏุฉ: 8              โ
โ โ ูุฑุงูุฒ ุชูููู: 4              โ
โ โ ูุฏูุฑู ูุฑุงูุฒ: 4              โ
โ โ ุฌููุน ุงูุงุฎุชุจุงุฑุงุช: โ ูุฌุญ      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ (ุงููุฑุญูุฉ 2):

### ๐ ูุธุงู ุงูุญูุงูุฉ ูุงูุชุญูู (Security Layer)
- [ ] Tenant Context Middleware
- [ ] Permission Validation
- [ ] Row-Level Security (RLS)
- [ ] Audit Logging
- [ ] Data Isolation Checks

### ๐ ุชุนุฏูู Routes
- [ ] ุชุญุฏูุซ auth.py
- [ ] ุชุญุฏูุซ dashboard.py
- [ ] ุชุญุฏูุซ inventory.py
- [ ] ูุบูุฑูุง...

---

## โ ุงูููุงุญุธุงุช ุงููุงูุฉ:

1. **ุนุฒู ุงูุจูุงูุงุช (Data Isolation):**
   - ูู ูุฑูุฒ ุชูููู ูู ุจูุงูุงุช ูููุตูุฉ ุชูุงูุงู
   - ุงูููุธู ูุฑู ููุท ุจูุงูุงุช ุงููุฑูุฒ ุงูุฎุงุต ุจู
   - ุงููุคุณุณ ูุฑู ุฌููุน ุงูุจูุงูุงุช

2. **ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ:**
   - ุฌููุน ุงูุจูุงูุงุช ุงููุฏููุฉ ูุญููุธุฉ
   - ุชู ุฅุถุงูุฉ `center_id` ุจุดูู ุงุฎุชูุงุฑู ููุณูุงุญ ุจุงูุชูุงูููุฉ

3. **ุงูุฃูุงู:**
   - ูู ุญุณุงุจ ูุฏูุฑ ูุฑุชุจุท ุจูุฑูุฒ ูุญุฏุฏ
   - ุงููุคุณุณ ูุง ูุฑูุฒ ูู (ูุดุฑู ุนูู ุงูุฌููุน)

---

**ุงูุชุงุฑูุฎ:** 2025-11-04  
**ุงูุญุงูุฉ:** โ **COMPLETE**  
**ุงูุฎุทุฃ ุงูุชุงูู:** ุงููุฑุญูุฉ 2 - ูุธุงู ุงูุญูุงูุฉ ูุงูุชุญูู