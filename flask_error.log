 * Tip: There are .env files present. Install python-dotenv to use them.
E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask_sqlalchemy\model.py:144: SAWarning: This declarative base already contains a class with the same class name and module name as models_core.Notification, and will be replaced in the string-lookup table.
  super().__init__(name, bases, d, **kwargs)
[2025-11-05 11:27:45,527] INFO in security_middleware: Security middleware initialized successfully
WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.7:5000
Press CTRL+C to quit
127.0.0.1 - - [05/Nov/2025 11:28:18] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:28:18,740] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:28:18] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:28:18] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:28:18] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:28:18] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:28:19] "GET /vocational-centers HTTP/1.1" 308 -
127.0.0.1 - - [05/Nov/2025 11:28:19] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:28:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:29:01] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:29:03,912] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:29:03] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:29:03] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:29:04] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:29:04] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:29:04] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:29:04] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:29:22] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:29:23,211] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:29:23] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:29:23] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:29:23] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:29:23] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:29:23] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:29:24] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:29:54] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:30:01] "GET /auth/login HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:30:02] "GET /favicon.ico HTTP/1.1" 404 -
[2025-11-05 11:30:08,564] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:30:08] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:30:08] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:30:08] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:30:08] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:30:08] "GET /favicon.ico HTTP/1.1" 404 -
127.0.0.1 - - [05/Nov/2025 11:30:12] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:30:12] "GET /favicon.ico HTTP/1.1" 404 -
127.0.0.1 - - [05/Nov/2025 11:30:12] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:30:24] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:30:25,613] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:30:25] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:30:25] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:30:25] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:30:25] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:30:26] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:30:26] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:30:34] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:30:35,437] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:30:35] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:30:35] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:30:35] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:30:35] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:30:36] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:30:36] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:30:36] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:30:37,688] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:30:37] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:30:37] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:30:37] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:30:37] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:30:38] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:30:38] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:30:39] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:30:39,812] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:30:39] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:30:39] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:30:39] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:30:39] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:30:40] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:30:40] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:30:41] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:30:41,897] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:30:41] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:30:41] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:30:41] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:30:42] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:30:42] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:30:42] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:30:43] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:30:44,120] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:30:44] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:30:44] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:30:44] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:30:44] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:30:44] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:30:44] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:31:15] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:31:15] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:31:17,309] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:31:17] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:31:17] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:31:17] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:31:17] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:31:18] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:31:18] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:31:18] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/edit HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:31:18] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:31:20] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:31:21,275] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:31:21] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:31:21] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:31:21] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:31:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:31:22] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:31:22] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:31:22] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/employees HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:31:22] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:31:52] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:31:53] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:31:54,824] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:31:54] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:31:54] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:31:54] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:31:55] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:31:55] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:31:55] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:31:56] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/employees HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:31:56] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:32:26] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:32:26] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:32:27,462] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:32:27] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:32:27] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:32:27] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:32:27] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:32:28] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:32:28] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:32:28] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:32:29,572] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:32:29] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:32:29] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:32:29] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:32:29] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:32:30] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:32:30] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:32:30] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:32:31] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:32:32,328] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:32:32] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:32:32] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:32:32] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:32:32] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:32:33] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:32:33] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:32:33] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:32:34,528] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:32:34] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:32:34] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:32:34] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:32:34] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:32:35] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:32:35] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:32:35] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:32:36,644] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:32:36] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:32:36] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:32:36] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:32:36] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:32:37] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:32:37] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:32:38] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:32:38,694] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:32:38] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:32:38] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:32:38] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:32:38] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:32:39] "GET /vocational-centers/99999/detail HTTP/1.1" 404 -
127.0.0.1 - - [05/Nov/2025 11:32:40] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:32:41,228] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:32:41] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:32:41] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:32:41] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:32:41] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:32:41] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:32:41] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:32:42] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:32:43,293] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:32:43] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:32:43] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:32:43] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:32:43] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:32:44] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:32:44] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:32:44] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:32:45,368] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:32:45] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:32:45] "GET /dashboard/ HTTP/1.1" 302 -
E:\Program Files\CfpaZMS\security_middleware.py:102: SAWarning: relationship 'User.notifications' will copy column users.id to column notifications.user_id, which conflicts with relationship(s): 'Notification.user' (copies users.id to notifications.user_id). If this is not the intention, consider if these relationships should be linked with back_populates, or if viewonly=True should be applied to one or more if they are read-only. For the less common case that foreign key constraints are partially overlapping, the orm.foreign() annotation can be used to isolate the columns that should be written towards.   To silence this warning, add the parameter 'overlaps="user"' to the 'User.notifications' relationship. (Background on this warning at: https://sqlalche.me/e/20/qzyx) (This warning originated from the `configure_mappers()` process, which was invoked automatically in response to a user-initiated operation.)
  violation = RateLimitViolation(
E:\Program Files\CfpaZMS\security_middleware.py:102: SAWarning: relationship 'Notification.user' will copy column users.id to column notifications.user_id, which conflicts with relationship(s): 'Notification.user' (copies users.id to notifications.user_id). If this is not the intention, consider if these relationships should be linked with back_populates, or if viewonly=True should be applied to one or more if they are read-only. For the less common case that foreign key constraints are partially overlapping, the orm.foreign() annotation can be used to isolate the columns that should be written towards.   To silence this warning, add the parameter 'overlaps="user"' to the 'Notification.user' relationship. (Background on this warning at: https://sqlalche.me/e/20/qzyx) (This warning originated from the `configure_mappers()` process, which was invoked automatically in response to a user-initiated operation.)
  violation = RateLimitViolation(
[2025-11-05 11:32:45,555] ERROR in app: Exception on /dashboard/admin [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'dashboard.admin_dashboard', 61, '2025-11-05 10:32:45.553510', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 11:32:45] "GET /dashboard/admin HTTP/1.1" 500 -
[2025-11-05 11:32:46,303] ERROR in app: Exception on /vocational-centers/ [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'vocational_centers.list_centers', 62, '2025-11-05 10:32:46.302397', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 11:32:46] "GET /vocational-centers/ HTTP/1.1" 500 -
127.0.0.1 - - [05/Nov/2025 11:33:17] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:33:18,333] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:33:18] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:33:18] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:33:18] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:33:18] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:33:19] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:33:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:34:11] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:34:11,970] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:34:11] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:34:11] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:34:12] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:34:12] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:34:12] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:34:12] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:34:13] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:34:14,069] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:34:14] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:34:14] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:34:14] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:34:14] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:34:14] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:34:14] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:34:15] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:34:16,086] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:34:16] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:34:16] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:34:16] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:34:16] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:34:16] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:34:16] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:34:17] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:34:18,170] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:34:18] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:34:18] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:34:18] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:34:18] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:34:18] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:34:18] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:34:20] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:34:21,185] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:34:21] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:34:21] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:34:21] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:34:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:34:21] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:34:21] "GET /api/notifications HTTP/1.1" 200 -
[2025-11-05 11:34:22,393] ERROR in vocational_centers: Error creating center: 'name' is an invalid keyword argument for VocationalCenter
[2025-11-05 11:34:22,393] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:34:22] "POST /vocational-centers/add HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:34:22] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:34:22] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:34:24] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:34:25,377] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:34:25] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:34:25] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:34:25] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:34:25] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:34:26] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:34:26] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:34:26] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/edit HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:34:26] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:34:28] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:34:29,385] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:34:29] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:34:29] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:34:29] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:34:29] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:34:30] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:34:30] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:34:30] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/employees HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:34:30] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:34:32] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:34:33,301] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:34:33] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:34:33] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:34:33] "GET /dashboard/admin HTTP/1.1" 200 -
[2025-11-05 11:34:33,473] ERROR in app: Exception on /api/notifications [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'api_get_notifications', 61, '2025-11-05 10:34:33.472189', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 11:34:33] "GET /api/notifications HTTP/1.1" 500 -
[2025-11-05 11:34:33,985] ERROR in app: Exception on /vocational-centers/ [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'vocational_centers.list_centers', 62, '2025-11-05 10:34:33.984061', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 11:34:33] "GET /vocational-centers/ HTTP/1.1" 500 -
[2025-11-05 11:34:44,776] ERROR in app: Exception on /auth/login [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'auth.login', 63, '2025-11-05 10:34:44.775236', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 11:34:44] "GET /auth/login HTTP/1.1" 500 -
127.0.0.1 - - [05/Nov/2025 11:35:16] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:35:17,366] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:35:17] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:35:17] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:35:17] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:35:17] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:35:18] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:35:18] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:35:18] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:35:19] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:35:19,915] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:35:19] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:35:19] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:35:19] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:35:20] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:35:20] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:35:20] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:35:21] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:35:21,989] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:35:21] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:35:21] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:35:22] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:35:22] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:35:22] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:35:22] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:35:23] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:35:24,372] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:35:24] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:35:24] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:35:24] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:35:24] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:35:25] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:35:25] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:35:25] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:35:26,472] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:35:26] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:35:26] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:35:26] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:35:26] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:35:27] "GET /vocational-centers/99999/detail HTTP/1.1" 404 -
127.0.0.1 - - [05/Nov/2025 11:35:28] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:35:28,956] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:35:28] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:35:28] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:35:29] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:35:29] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:35:29] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:35:29] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:35:30] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:35:31,064] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:35:31] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:35:31] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:35:31] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:35:31] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:35:31] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:35:31] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:35:32] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:35:33,116] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:35:33] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:35:33] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:35:33] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:35:33] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:35:33] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:35:33] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:35:34] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:35:35,214] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:35:35] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:35:35] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:35:35] "GET /dashboard/admin HTTP/1.1" 200 -
[2025-11-05 11:35:35,441] ERROR in app: Exception on /api/notifications [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'api_get_notifications', 61, '2025-11-05 10:35:35.439765', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 11:35:35] "GET /api/notifications HTTP/1.1" 500 -
[2025-11-05 11:35:35,948] ERROR in app: Exception on /vocational-centers/ [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'vocational_centers.list_centers', 62, '2025-11-05 10:35:35.946684', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 11:35:35] "GET /vocational-centers/ HTTP/1.1" 500 -
[2025-11-05 11:35:58,475] ERROR in app: Exception on /auth/login [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'auth.login', 63, '2025-11-05 10:35:58.474770', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 11:35:58] "GET /auth/login HTTP/1.1" 500 -
127.0.0.1 - - [05/Nov/2025 11:36:29] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:36:30,234] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:36:30] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:36:30] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:36:30] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:36:30] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:36:30] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:36:30] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:36:31] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:36:32,350] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:36:32] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:36:32] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:36:32] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:36:32] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:36:33] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:36:33] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:36:33] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:36:34,567] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:36:34] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:36:34] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:36:34] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:36:35] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:36:35] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:36:35] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:36:37] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:36:37,942] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:36:37] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:36:37] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:36:38] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:36:38] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:36:38] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:36:38] "GET /api/notifications HTTP/1.1" 200 -
[2025-11-05 11:36:39,133] ERROR in vocational_centers: Error creating center: 'name' is an invalid keyword argument for VocationalCenter
[2025-11-05 11:36:39,134] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:36:39] "POST /vocational-centers/add HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:36:39] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:36:39] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:36:41] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:36:42,358] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:36:42] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:36:42] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:36:42] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:36:42] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:36:43] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:36:43] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:36:43] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/edit HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:36:43] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:36:45] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:36:46,482] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:36:46] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:36:46] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:36:46] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:36:46] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:36:47] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:36:47] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:36:47] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/employees HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:36:47] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:36:49] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:36:50,282] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:36:50] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:36:50] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:36:50] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:36:50] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:36:50] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:36:51] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:36:51] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/employees HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:36:51] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:36:53] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/employees/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:36:53] "GET /api/notifications HTTP/1.1" 200 -
[2025-11-05 11:36:55,342] ERROR in app: Exception on /auth/login [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'auth.login', 61, '2025-11-05 10:36:55.341110', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 11:36:55] "GET /auth/login HTTP/1.1" 500 -
127.0.0.1 - - [05/Nov/2025 11:37:26] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:37:26,988] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:37:26] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:37:26] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:37:27] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:37:27] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:37:27] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:37:27] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:37:27] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:37:28] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:37:29,312] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:37:29] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:37:29] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:37:29] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:37:29] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:37:30] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:37:30] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:37:30] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:37:31,429] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:37:31] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:37:31] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:37:31] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:37:31] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:37:32] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:37:32] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:37:33] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:37:33,670] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:37:33] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:37:33] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:37:33] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:37:33] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:37:34] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:37:34] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:37:35] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:37:36,178] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:37:36] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:37:36] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:37:36] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:37:36] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:37:36] "GET /vocational-centers/99999/detail HTTP/1.1" 404 -
127.0.0.1 - - [05/Nov/2025 11:37:38] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:37:38,763] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:37:38] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:37:38] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:37:38] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:37:38] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:37:39] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:37:39] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:37:40] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:37:40,778] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:37:40] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:37:40] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:37:40] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:37:40] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:37:41] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:37:41] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:37:42] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:37:42,836] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:37:42] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:37:42] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:37:42] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:37:43] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:37:43] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:37:43] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:37:44] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:37:45,011] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:37:45] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:37:45] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:37:45] "GET /dashboard/admin HTTP/1.1" 200 -
[2025-11-05 11:37:45,161] ERROR in app: Exception on /api/notifications [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'api_get_notifications', 61, '2025-11-05 10:37:45.159530', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 11:37:45] "GET /api/notifications HTTP/1.1" 500 -
[2025-11-05 11:37:45,678] ERROR in app: Exception on /vocational-centers/ [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'vocational_centers.list_centers', 62, '2025-11-05 10:37:45.676878', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 11:37:45] "GET /vocational-centers/ HTTP/1.1" 500 -
127.0.0.1 - - [05/Nov/2025 11:42:06] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:42:07,450] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:42:07] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:42:07] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:42:07] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:42:07] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:42:08] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:42:08] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:42:09] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:42:10,473] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:42:10] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:42:10] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:42:10] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:42:10] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:42:11] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:42:11] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:42:11] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:42:12,682] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:42:12] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:42:12] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:42:12] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:42:13] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:42:13] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:42:13] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:42:14] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:42:15,056] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:42:15] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:42:15] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:42:15] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:42:15] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:42:15] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:42:15] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:42:17] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:42:18,089] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:42:18] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:42:18] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:42:18] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:42:18] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:42:18] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:42:18] "GET /api/notifications HTTP/1.1" 200 -
[2025-11-05 11:42:19,271] ERROR in vocational_centers: Error creating center: 'name' is an invalid keyword argument for VocationalCenter
[2025-11-05 11:42:19,271] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:42:19] "POST /vocational-centers/add HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:42:19] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:42:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:42:21] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:42:22,156] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:42:22] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:42:22] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:42:22] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:42:22] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:42:22] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:42:22] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:42:23] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/edit HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:42:23] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:42:25] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:42:26,101] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:42:26] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:42:26] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:42:26] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:42:26] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:42:26] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:42:26] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:42:27] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/employees HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:42:27] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:42:28] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:42:29,538] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:42:29] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:42:29] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:42:29] "GET /dashboard/admin HTTP/1.1" 200 -
[2025-11-05 11:42:29,690] ERROR in app: Exception on /api/notifications [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'api_get_notifications', 61, '2025-11-05 10:42:29.688573', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 11:42:29] "GET /api/notifications HTTP/1.1" 500 -
[2025-11-05 11:42:30,205] ERROR in app: Exception on /vocational-centers/ [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'vocational_centers.list_centers', 62, '2025-11-05 10:42:30.203124', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 11:42:30] "GET /vocational-centers/ HTTP/1.1" 500 -
[2025-11-05 11:42:40,946] ERROR in app: Exception on /auth/login [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'auth.login', 63, '2025-11-05 10:42:40.944989', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 11:42:40] "GET /auth/login HTTP/1.1" 500 -
127.0.0.1 - - [05/Nov/2025 11:43:12] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:43:12,745] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:43:12] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:43:12] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:43:12] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:43:12] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:43:13] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:43:13] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:43:13] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:43:14] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:43:15,485] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:43:15] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:43:15] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:43:15] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:43:15] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:43:16] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:43:16] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:43:17] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:43:17,760] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:43:17] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:43:17] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:43:17] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:43:17] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:43:18] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:43:18] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:43:19] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:43:19,851] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:43:19] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:43:19] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:43:19] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:43:20] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:43:20] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:43:20] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:43:21] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:43:21,867] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:43:21] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:43:21] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:43:21] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:43:22] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:43:22] "GET /vocational-centers/99999/detail HTTP/1.1" 404 -
127.0.0.1 - - [05/Nov/2025 11:43:23] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:43:24,500] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:43:24] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:43:24] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:43:24] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:43:24] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:43:25] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:43:25] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:43:25] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:43:26,709] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:43:26] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:43:26] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:43:26] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:43:27] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:43:27] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:43:27] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:43:28] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:43:28,984] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:43:28] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:43:28] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:43:29] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:43:29] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:43:29] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:43:29] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:43:30] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:43:31,151] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:43:31] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:43:31] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:43:31] "GET /dashboard/admin HTTP/1.1" 200 -
[2025-11-05 11:43:31,355] ERROR in app: Exception on /api/notifications [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'api_get_notifications', 61, '2025-11-05 10:43:31.354506', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 11:43:31] "GET /api/notifications HTTP/1.1" 500 -
[2025-11-05 11:43:31,870] ERROR in app: Exception on /vocational-centers/ [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'vocational_centers.list_centers', 62, '2025-11-05 10:43:31.867886', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 11:43:31] "GET /vocational-centers/ HTTP/1.1" 500 -
[2025-11-05 11:43:55,455] ERROR in app: Exception on /auth/login [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'auth.login', 63, '2025-11-05 10:43:55.454646', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 11:43:55] "GET /auth/login HTTP/1.1" 500 -
127.0.0.1 - - [05/Nov/2025 11:44:26] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:44:27,529] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:44:27] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:44:27] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:44:27] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:44:27] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:44:28] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:44:28] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:44:28] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:44:29,587] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:44:29] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:44:29] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:44:29] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:44:29] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:44:30] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:44:30] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:44:30] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:44:31,562] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:44:31] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:44:31] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:44:31] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:44:31] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:44:32] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:44:32] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:44:33] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:44:34,570] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:44:34] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:44:34] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:44:34] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:44:34] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:44:35] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:44:35] "GET /api/notifications HTTP/1.1" 200 -
[2025-11-05 11:44:35,764] ERROR in vocational_centers: Error creating center: 'name' is an invalid keyword argument for VocationalCenter
[2025-11-05 11:44:35,765] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:44:35] "POST /vocational-centers/add HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:44:35] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:44:35] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:44:37] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:44:38,662] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:44:38] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:44:38] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:44:38] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:44:38] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:44:39] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:44:39] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:44:39] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/edit HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:44:39] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:44:41] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:44:42,569] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:44:42] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:44:42] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:44:42] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:44:42] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:44:43] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:44:43] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:44:43] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/employees HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:44:43] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:44:45] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:44:46,027] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:44:46] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:44:46] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:44:46] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:44:46] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:44:46] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:44:46] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:44:47] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/employees HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:44:47] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:44:48] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/employees/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:44:48] "GET /api/notifications HTTP/1.1" 200 -
[2025-11-05 11:44:51,066] ERROR in app: Exception on /auth/login [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'auth.login', 61, '2025-11-05 10:44:51.065055', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 11:44:51] "GET /auth/login HTTP/1.1" 500 -
127.0.0.1 - - [05/Nov/2025 11:45:22] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:45:23,208] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:45:23] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:45:23] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:45:23] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:45:23] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:45:23] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:45:23] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:45:23] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:45:24] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:45:25,632] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:45:25] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:45:25] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:45:25] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:45:25] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:45:26] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:45:26] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:45:27] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:45:27,699] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:45:27] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:45:27] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:45:27] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:45:27] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:45:28] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:45:28] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:45:29] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:45:29,966] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:45:29] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:45:29] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:45:30] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:45:30] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:45:30] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:45:30] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:45:31] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:45:32,032] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:45:32] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:45:32] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:45:32] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:45:32] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:45:32] "GET /vocational-centers/99999/detail HTTP/1.1" 404 -
127.0.0.1 - - [05/Nov/2025 11:45:33] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:45:34,891] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:45:34] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:45:34] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:45:34] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:45:35] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:45:35] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:45:35] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:45:36] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:45:36,982] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:45:36] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:45:36] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:45:37] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:45:37] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:45:37] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:45:37] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:45:38] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:45:38,997] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:45:38] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:45:39] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:45:39] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:45:39] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:45:39] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:45:39] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:45:40] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:45:41,031] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:45:41] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:45:41] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:45:41] "GET /dashboard/admin HTTP/1.1" 200 -
[2025-11-05 11:45:41,185] ERROR in app: Exception on /api/notifications [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'api_get_notifications', 61, '2025-11-05 10:45:41.184264', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 11:45:41] "GET /api/notifications HTTP/1.1" 500 -
[2025-11-05 11:45:41,703] ERROR in app: Exception on /vocational-centers/ [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'vocational_centers.list_centers', 62, '2025-11-05 10:45:41.700514', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 11:45:41] "GET /vocational-centers/ HTTP/1.1" 500 -
127.0.0.1 - - [05/Nov/2025 11:48:28] "GET /auth/login HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:48:43] "GET /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:48:43] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:48:43] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:48:43] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:48:43] "GET /favicon.ico HTTP/1.1" 404 -
127.0.0.1 - - [05/Nov/2025 11:48:51] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:48:51] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:48:51] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:48:54] "GET /admin/settings HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:48:54] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:48:59] "GET /admin/users HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:48:59] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:49:02] "GET /admin/activity-logs HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:49:02] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:49:06] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:49:06] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:49:06] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:49:36] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:50:06] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:50:36] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:51:06] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 11:51:16] "GET / HTTP/1.1" 302 -
192.168.1.7 - - [05/Nov/2025 11:51:16] "GET /auth/login HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 11:51:16] "GET /favicon.ico HTTP/1.1" 404 -
[2025-11-05 11:51:30,203] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
192.168.1.7 - - [05/Nov/2025 11:51:30] "POST /auth/login HTTP/1.1" 302 -
192.168.1.7 - - [05/Nov/2025 11:51:30] "GET /dashboard/ HTTP/1.1" 302 -
192.168.1.7 - - [05/Nov/2025 11:51:30] "GET /dashboard/admin HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 11:51:30] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 11:51:35] "GET /admin/settings HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 11:51:35] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:51:36] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 11:51:52] "GET /equipment/assets HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 11:51:52] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 11:51:56] "GET /equipment/issues HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 11:51:56] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 11:51:58] "GET /dashboard/ HTTP/1.1" 302 -
192.168.1.7 - - [05/Nov/2025 11:51:58] "GET /dashboard/admin HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 11:51:58] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 11:51:59] "GET /about HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 11:51:59] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:52:06] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 11:52:29] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:52:36] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 11:52:55] "GET /notifications/ HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 11:52:55] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 11:52:55] "GET /employee-requests/ HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 11:52:55] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 11:53:05] "GET /inventory/smart-alerts HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 11:53:05] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 11:53:09] "GET /inventory/smart-alerts?type=low_stock HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 11:53:09] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 11:53:18] "GET /inventory/inventory-counts HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 11:53:18] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:53:19] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 11:53:19] "GET /inventory/inventory-counts/new HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 11:53:19] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 11:53:34] "GET /dashboard/ HTTP/1.1" 302 -
192.168.1.7 - - [05/Nov/2025 11:53:34] "GET /dashboard/admin HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 11:53:34] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 11:53:38] "GET /about HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 11:53:38] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 11:53:41] "GET /about HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 11:53:41] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 11:53:44] "GET /dashboard/ HTTP/1.1" 302 -
192.168.1.7 - - [05/Nov/2025 11:53:44] "GET /dashboard/admin HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 11:53:44] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:53:58] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:53:59,391] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:53:59] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:53:59] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:53:59] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:53:59] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:54:00] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:54:00] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:54:01] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:54:02,791] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:54:02] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:54:02] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:54:02] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:54:02] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:54:03] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:54:03] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:54:04] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:54:05,016] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:54:05] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:54:05] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:54:05] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:54:05] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:54:05] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:54:05] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:54:06] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:54:07,366] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:54:07] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:54:07] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:54:07] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:54:07] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:54:08] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:54:08] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:54:09] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:54:10,665] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:54:10] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:54:10] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:54:10] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:54:10] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:54:11] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:54:11] "GET /api/notifications HTTP/1.1" 200 -
[2025-11-05 11:54:11,980] ERROR in vocational_centers: Error creating center: 'name' is an invalid keyword argument for VocationalCenter
[2025-11-05 11:54:11,981] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:54:11] "POST /vocational-centers/add HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:54:12] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:54:12] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:54:14] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:54:15,474] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:54:15] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:54:15] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:54:15] "GET /dashboard/admin HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 11:54:15] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:54:15] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:54:16] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:54:16] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:54:16] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/edit HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:54:16] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:54:19] "GET /auth/login HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:54:19] "GET /api/notifications HTTP/1.1" 200 -
[2025-11-05 11:54:19,758] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:54:19] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:54:19] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:54:19] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:54:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:54:20] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:54:20] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:54:20] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/employees HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:54:20] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:54:22] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:54:23,340] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:54:23] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:54:23] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:54:23] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:54:23] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:54:24] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:54:24] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:54:24] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/employees HTTP/1.1" 200 -
[2025-11-05 11:54:24,892] ERROR in app: Exception on /api/notifications [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'api_get_notifications', 61, '2025-11-05 10:54:24.891178', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 11:54:24] "GET /api/notifications HTTP/1.1" 500 -
[2025-11-05 11:54:26,444] ERROR in app: Exception on /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/employees/add [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'vocational_centers.add_employee', 62, '2025-11-05 10:54:26.443350', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 11:54:26] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/employees/add HTTP/1.1" 500 -
[2025-11-05 11:54:28,752] ERROR in app: Exception on /auth/login [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'auth.login', 63, '2025-11-05 10:54:28.750691', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 11:54:28] "GET /auth/login HTTP/1.1" 500 -
192.168.1.7 - - [05/Nov/2025 11:54:45] "GET /api/notifications HTTP/1.1" 200 -
[2025-11-05 11:54:59,918] ERROR in app: Exception on /auth/login [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'auth.login', 64, '2025-11-05 10:54:59.916607', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 11:54:59] "GET /auth/login HTTP/1.1" 500 -
192.168.1.7 - - [05/Nov/2025 11:55:15] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:55:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:55:31] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:55:31,776] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:55:31] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:55:31] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:55:31] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:55:31] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:55:32] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:55:32] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:55:33] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:55:34,150] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:55:34] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:55:34] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:55:34] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:55:34] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:55:34] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:55:34] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:55:35] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:55:36,300] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:55:36] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:55:36] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:55:36] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:55:36] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:55:37] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:55:37] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:55:37] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:55:38,442] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:55:38] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:55:38] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:55:38] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:55:38] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:55:39] "GET /vocational-centers/99999/detail HTTP/1.1" 404 -
127.0.0.1 - - [05/Nov/2025 11:55:40] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:55:40,934] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:55:40] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:55:40] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:55:41] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:55:41] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:55:41] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:55:41] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:55:42] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:55:43,167] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:55:43] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:55:43] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:55:43] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:55:43] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:55:43] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:55:43] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:55:44] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:55:45,325] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:55:45] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:55:45] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:55:45] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:55:45] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 11:55:45] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:55:46] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:55:46] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:55:46] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:55:47,383] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:55:47] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:55:47] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:55:47] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:55:47] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:55:48] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:55:48] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 11:56:15] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:56:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:56:43] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:56:45,137] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:56:45] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:56:45] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:56:45] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:56:45] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 11:56:45] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:56:45] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:56:45] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:56:54] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:56:55,702] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:56:55] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:56:55] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:56:55] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:56:55] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:56:56] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:56:56] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:56:56] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:57:05] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:57:06,544] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:57:06] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:57:06] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:57:06] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:57:06] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:57:07] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:57:07] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:57:09] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:57:10,301] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:57:10] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:57:10] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:57:10] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:57:10] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:57:11] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:57:11] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:57:11] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:57:12,909] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:57:12] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:57:12] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:57:12] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:57:13] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:57:13] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:57:13] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:57:14] "GET /auth/login HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 11:57:15] "GET /api/notifications HTTP/1.1" 200 -
[2025-11-05 11:57:15,968] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:57:15] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:57:15] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:57:16] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:57:16] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:57:16] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:57:16] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:57:18] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:57:19,576] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:57:19] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:57:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:57:19] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:57:19] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:57:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:57:20] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:57:20] "GET /api/notifications HTTP/1.1" 200 -
[2025-11-05 11:57:20,751] ERROR in vocational_centers: Error creating center: 'name' is an invalid keyword argument for VocationalCenter
[2025-11-05 11:57:20,751] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:57:20] "POST /vocational-centers/add HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:57:20] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:57:20] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:57:22] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:57:24,200] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:57:24] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:57:24] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:57:24] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:57:24] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:57:24] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:57:24] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:57:25] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/edit HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:57:25] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:57:27] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:57:28,659] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:57:28] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:57:28] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:57:28] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:57:28] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:57:29] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:57:29] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:57:29] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/employees HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:57:29] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:57:31] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:57:32,666] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:57:32] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:57:32] "GET /dashboard/ HTTP/1.1" 302 -
[2025-11-05 11:57:32,682] ERROR in app: Exception on /dashboard/admin [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'dashboard.admin_dashboard', 61, '2025-11-05 10:57:32.680837', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 11:57:32] "GET /dashboard/admin HTTP/1.1" 500 -
[2025-11-05 11:57:33,285] ERROR in app: Exception on /vocational-centers/ [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'vocational_centers.list_centers', 62, '2025-11-05 10:57:33.284626', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 11:57:33] "GET /vocational-centers/ HTTP/1.1" 500 -
[2025-11-05 11:57:46,052] ERROR in app: Exception on /auth/login [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'auth.login', 63, '2025-11-05 10:57:46.051049', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 11:57:46] "GET /auth/login HTTP/1.1" 500 -
127.0.0.1 - - [05/Nov/2025 11:58:04] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:58:06,063] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:58:06] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:58:06] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:58:06] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:58:06] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:58:06] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:58:06] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:58:06] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:58:07] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:58:08,972] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:58:08] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:58:08] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:58:09] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:58:09] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:58:09] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:58:09] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:58:10] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:58:11,596] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:58:11] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:58:11] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:58:11] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:58:11] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:58:12] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:58:12] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:58:13] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:58:14,137] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:58:14] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:58:14] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:58:14] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:58:14] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:58:14] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:58:14] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:58:15] "GET /auth/login HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 11:58:16] "GET /api/notifications HTTP/1.1" 200 -
[2025-11-05 11:58:16,721] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:58:16] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:58:16] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:58:16] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:58:16] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:58:17] "GET /vocational-centers/99999/detail HTTP/1.1" 404 -
127.0.0.1 - - [05/Nov/2025 11:58:18] "GET /auth/login HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:58:19] "GET /api/notifications HTTP/1.1" 200 -
[2025-11-05 11:58:19,788] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:58:19] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:58:19] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:58:19] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:58:20] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:58:20] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:58:20] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:58:21] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:58:22,812] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:58:22] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:58:22] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:58:22] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:58:22] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:58:23] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:58:23] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:58:24] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:58:25,404] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:58:25] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:58:25] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:58:25] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:58:25] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:58:26] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:58:26] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:58:26] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 11:58:28,320] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 11:58:28] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 11:58:28] "GET /dashboard/ HTTP/1.1" 302 -
[2025-11-05 11:58:28,337] ERROR in app: Exception on /dashboard/admin [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'dashboard.admin_dashboard', 61, '2025-11-05 10:58:28.335914', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 11:58:28] "GET /dashboard/admin HTTP/1.1" 500 -
[2025-11-05 11:58:28,940] ERROR in app: Exception on /vocational-centers/ [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'vocational_centers.list_centers', 62, '2025-11-05 10:58:28.938046', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 11:58:28] "GET /vocational-centers/ HTTP/1.1" 500 -
192.168.1.7 - - [05/Nov/2025 11:59:17] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 11:59:19] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:00:18] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:00:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:01:19] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:01:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:02:19] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:02:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:03:19] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:03:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:04:19] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:04:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:05:19] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:05:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:06:19] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:06:19] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:07:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:07:19] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:08:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:08:19] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:09:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:09:19] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:10:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:10:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:11:19] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:11:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:12:19] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:12:19] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:13:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:13:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:14:19] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:14:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:15:19] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:15:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:16:19] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:16:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:17:19] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:17:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:18:19] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:18:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:19:19] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:19:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:20:19] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:20:19] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:21:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:21:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:22:19] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:22:19] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:23:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:23:19] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:24:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:24:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:24:48] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:24:50,086] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:24:50] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:24:50] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:24:50] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:24:50] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:24:50] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:24:50] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:24:52] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:24:53,660] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:24:53] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:24:53] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:24:53] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:24:53] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:24:54] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:24:54] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:24:55] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:24:56,262] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:24:56] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:24:56] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:24:56] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:24:56] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:24:56] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:24:57] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:24:57] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:24:58,768] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:24:58] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:24:58] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:24:58] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:24:58] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:24:59] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:24:59] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:25:01] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:25:02,334] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:25:02] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:25:02] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:25:02] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:25:02] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:25:03] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:25:03] "GET /api/notifications HTTP/1.1" 200 -
[2025-11-05 12:25:03,632] ERROR in vocational_centers: Error creating center: 'name' is an invalid keyword argument for VocationalCenter
[2025-11-05 12:25:03,632] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:25:03] "POST /vocational-centers/add HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:25:03] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:25:03] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:25:05] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:25:06,943] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:25:06] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:25:06] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:25:07] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:25:07] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:25:07] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:25:07] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:25:08] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/edit HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:25:08] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:25:10] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:25:11,383] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:25:11] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:25:11] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:25:11] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:25:11] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:25:12] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:25:12] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:25:12] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/employees HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:25:12] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:25:14] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:25:15,351] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:25:15] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:25:15] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:25:15] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:25:15] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:25:16] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:25:16] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:25:16] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/employees HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:25:16] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:25:18] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/employees/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:25:18] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:25:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:25:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:25:20] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:25:21,583] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:25:21] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:25:21] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:25:21] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:25:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:25:22] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:25:22] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:25:23] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:25:24,283] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:25:24] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:25:24] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:25:24] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:25:24] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:25:24] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:25:25] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:25:25] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:25:26] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:25:27,149] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:25:27] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:25:27] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:25:27] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:25:27] "GET /api/notifications HTTP/1.1" 200 -
[2025-11-05 12:25:27,801] ERROR in app: Exception on /vocational-centers/ [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'vocational_centers.list_centers', 61, '2025-11-05 11:25:27.799303', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 12:25:27] "GET /vocational-centers/ HTTP/1.1" 500 -
[2025-11-05 12:25:28,501] ERROR in app: Exception on /auth/login [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'auth.login', 62, '2025-11-05 11:25:28.499885', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 12:25:28] "GET /auth/login HTTP/1.1" 500 -
[2025-11-05 12:25:47,087] ERROR in app: Exception on /auth/login [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'auth.login', 63, '2025-11-05 11:25:47.086164', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 12:25:47] "GET /auth/login HTTP/1.1" 500 -
127.0.0.1 - - [05/Nov/2025 12:26:05] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:26:06,813] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:26:06] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:26:06] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:26:06] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:26:06] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:26:07] "GET /vocational-centers/99999/detail HTTP/1.1" 404 -
127.0.0.1 - - [05/Nov/2025 12:26:08] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:26:09,771] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:26:09] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:26:09] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:26:09] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:26:09] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:26:10] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:26:10] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:26:11] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:26:12,329] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:26:12] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:26:12] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:26:12] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:26:12] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:26:13] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:26:13] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:26:13] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:26:14,904] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:26:14] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:26:14] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:26:14] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:26:15] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:26:15] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:26:15] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:26:16] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:26:17,495] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:26:17] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:26:17] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:26:17] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:26:17] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:26:18] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:26:18] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:26:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:26:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:26:43] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:26:44,485] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:26:44] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:26:44] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:26:44] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:26:44] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:26:45] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:26:45] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:26:54] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:26:55,809] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:26:55] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:26:55] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:26:55] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:26:55] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:26:56] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:26:56] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:27:17] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:27:18,509] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:27:18] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:27:18] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:27:18] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:27:18] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:27:19] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:27:19] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:27:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:27:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:27:20] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:27:22,407] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:27:22] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:27:22] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:27:22] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:27:22] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:27:23] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:27:23] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:27:24] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:27:25,173] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:27:25] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:27:25] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:27:25] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:27:25] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:27:25] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:27:25] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:27:26] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:27:27,781] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:27:27] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:27:27] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:27:27] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:27:27] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:27:28] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:27:28] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:27:30] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:27:31,264] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:27:31] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:27:31] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:27:31] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:27:31] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:27:32] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:27:32] "GET /api/notifications HTTP/1.1" 200 -
[2025-11-05 12:27:32,878] ERROR in vocational_centers: Error creating center: 'name' is an invalid keyword argument for VocationalCenter
[2025-11-05 12:27:32,878] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:27:32] "POST /vocational-centers/add HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:27:32] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:27:32] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:27:35] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:27:36,673] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:27:36] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:27:36] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:27:36] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:27:36] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:27:37] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:27:37] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:27:37] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/edit HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:27:37] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:27:40] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:27:41,272] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:27:41] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:27:41] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:27:41] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:27:41] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:27:41] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:27:42] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:27:42] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/employees HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:27:42] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:27:44] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:27:45,413] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:27:45] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:27:45] "GET /dashboard/ HTTP/1.1" 302 -
[2025-11-05 12:27:45,430] ERROR in app: Exception on /dashboard/admin [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'dashboard.admin_dashboard', 61, '2025-11-05 11:27:45.429425', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 12:27:45] "GET /dashboard/admin HTTP/1.1" 500 -
[2025-11-05 12:27:46,135] ERROR in app: Exception on /vocational-centers/ [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'vocational_centers.list_centers', 62, '2025-11-05 11:27:46.134084', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 12:27:46] "GET /vocational-centers/ HTTP/1.1" 500 -
[2025-11-05 12:27:58,904] ERROR in app: Exception on /auth/login [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'auth.login', 63, '2025-11-05 11:27:58.902902', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 12:27:58] "GET /auth/login HTTP/1.1" 500 -
127.0.0.1 - - [05/Nov/2025 12:28:19] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:28:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:28:38] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:28:39,601] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:28:39] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:28:39] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:28:39] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:28:39] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:28:40] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:28:40] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:28:40] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:28:41] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:28:42,701] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:28:42] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:28:42] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:28:42] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:28:42] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:28:43] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:28:43] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:28:44] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:28:45,308] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:28:45] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:28:45] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:28:45] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:28:45] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:28:46] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:28:46] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:28:47] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:28:48,242] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:28:48] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:28:48] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:28:48] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:28:48] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:28:48] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:28:49] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:28:49] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:28:50,949] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:28:50] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:28:50] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:28:51] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:28:51] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:28:51] "GET /vocational-centers/99999/detail HTTP/1.1" 404 -
127.0.0.1 - - [05/Nov/2025 12:28:52] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:28:54,000] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:28:54] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:28:54] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:28:54] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:28:54] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:28:54] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:28:54] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:28:55] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:28:56,558] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:28:56] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:28:56] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:28:56] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:28:56] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:28:57] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:28:57] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:28:57] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:28:59,074] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:28:59] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:28:59] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:28:59] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:28:59] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:28:59] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:28:59] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:29:00] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:29:01,815] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:29:01] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:29:01] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:29:01] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:29:01] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:29:02] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:29:02] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:29:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:29:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:29:31] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:29:32,804] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:29:32] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:29:32] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:29:32] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:29:32] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:29:33] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:29:33] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:29:35] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:29:36,330] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:29:36] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:29:36] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:29:36] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:29:36] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:29:37] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:29:37] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:29:37] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:29:39,079] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:29:39] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:29:39] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:29:39] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:29:39] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:29:39] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:29:39] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:29:40] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:29:41,562] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:29:41] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:29:41] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:29:41] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:29:44] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:29:44] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:29:44] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:29:46] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:29:47,629] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:29:47] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:29:47] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:29:47] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:29:47] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:29:48] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:29:48] "GET /api/notifications HTTP/1.1" 200 -
[2025-11-05 12:29:48,837] ERROR in vocational_centers: Error creating center: 'name' is an invalid keyword argument for VocationalCenter
[2025-11-05 12:29:48,838] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:29:48] "POST /vocational-centers/add HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:29:48] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:29:48] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:29:51] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:29:53,428] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:29:53] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:29:53] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:29:53] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:29:53] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:29:54] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:29:54] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:29:54] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/edit HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:29:54] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:29:56] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:29:57,927] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:29:57] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:29:57] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:29:57] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:29:58] "GET /api/notifications HTTP/1.1" 200 -
[2025-11-05 12:29:58,585] ERROR in app: Exception on /vocational-centers/ [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'vocational_centers.list_centers', 61, '2025-11-05 11:29:58.583899', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 12:29:58] "GET /vocational-centers/ HTTP/1.1" 500 -
127.0.0.1 - - [05/Nov/2025 12:30:09] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:30:10,436] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:30:10] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:30:10] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:30:10] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:30:10] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:30:11] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:30:11] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:30:11] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/employees HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:30:11] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:30:13] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/employees/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:30:13] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:30:15] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:30:16,834] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:30:16] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:30:16] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:30:16] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:30:16] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:30:17] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:30:17] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:30:18] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:30:19,697] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:30:19] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:30:19] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:30:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:30:19] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:30:19] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:30:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:30:20] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:30:20] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:30:20] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:30:21] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:30:22,826] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:30:22] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:30:22] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:30:22] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:30:22] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:30:23] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:30:23] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:30:24] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:30:25,534] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:30:25] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:30:25] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:30:25] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:30:25] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:30:26] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:30:26] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:30:27] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:30:28,126] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:30:28] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:30:28] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:30:28] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:30:28] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:30:28] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:30:28] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:30:29] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:30:30,783] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:30:30] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:30:30] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:30:30] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:30:30] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:30:31] "GET /vocational-centers/99999/detail HTTP/1.1" 404 -
127.0.0.1 - - [05/Nov/2025 12:30:32] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:30:33,883] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:30:33] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:30:33] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:30:33] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:30:34] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:30:34] "GET /vocational-centers/ HTTP/1.1" 200 -
[2025-11-05 12:30:34,633] ERROR in app: Exception on /api/notifications [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'api_get_notifications', 61, '2025-11-05 11:30:34.631790', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 12:30:34] "GET /api/notifications HTTP/1.1" 500 -
[2025-11-05 12:30:35,310] ERROR in app: Exception on /auth/login [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'auth.login', 62, '2025-11-05 11:30:35.309082', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 12:30:35] "GET /auth/login HTTP/1.1" 500 -
127.0.0.1 - - [05/Nov/2025 12:31:19] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:31:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:31:39] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:31:42,036] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:31:42] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:31:42] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:31:42] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:31:42] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:31:42] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:31:42] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:31:43] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:31:44,719] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:31:44] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:31:44] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:31:44] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:31:44] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:31:45] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:31:45] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:32:19] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:32:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:33:19] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:33:19] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:34:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:34:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:35:19] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:35:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:36:19] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:36:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:37:19] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:37:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:38:19] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:38:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:39:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:39:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:40:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:40:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:41:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:41:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:42:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:42:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:43:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:43:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:44:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:44:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:45:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:45:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:46:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:46:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:47:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:47:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:48:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:48:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:49:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:49:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:50:10] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:50:11,693] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:50:11] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:50:11] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:50:11] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:50:12] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:50:12] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:50:12] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:50:15] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:50:16,394] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:50:16] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:50:16] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:50:16] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:50:16] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:50:17] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:50:17] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:50:17] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:50:18,945] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:50:18] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:50:18] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:50:19] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:50:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:50:19] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:50:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:50:20] "GET /auth/login HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:50:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:50:21] "GET /api/notifications HTTP/1.1" 200 -
[2025-11-05 12:50:22,027] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:50:22] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:50:22] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:50:22] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:50:22] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:50:23] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:50:23] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:50:24] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:50:25,976] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:50:25] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:50:25] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:50:26] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:50:26] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:50:26] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:50:26] "GET /api/notifications HTTP/1.1" 200 -
[2025-11-05 12:50:27,169] ERROR in vocational_centers: Error creating center: 'name' is an invalid keyword argument for VocationalCenter
[2025-11-05 12:50:27,169] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:50:27] "POST /vocational-centers/add HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:50:27] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:50:27] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:50:29] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:50:30,825] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:50:30] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:50:30] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:50:30] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:50:31] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:50:31] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:50:31] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:50:32] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/edit HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:50:32] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:50:34] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:50:35,633] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:50:35] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:50:35] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:50:35] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:50:36] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:50:36] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:50:36] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:50:37] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/employees HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:50:37] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:50:39] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:50:40,349] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:50:40] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:50:40] "GET /dashboard/ HTTP/1.1" 302 -
[2025-11-05 12:50:40,364] ERROR in app: Exception on /dashboard/admin [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'dashboard.admin_dashboard', 61, '2025-11-05 11:50:40.363175', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 12:50:40] "GET /dashboard/admin HTTP/1.1" 500 -
[2025-11-05 12:50:40,976] ERROR in app: Exception on /vocational-centers/ [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'vocational_centers.list_centers', 62, '2025-11-05 11:50:40.974942', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 12:50:40] "GET /vocational-centers/ HTTP/1.1" 500 -
[2025-11-05 12:50:53,986] ERROR in app: Exception on /auth/login [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'auth.login', 63, '2025-11-05 11:50:53.984755', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 12:50:53] "GET /auth/login HTTP/1.1" 500 -
192.168.1.7 - - [05/Nov/2025 12:51:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:51:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:51:58] "GET /auth/login HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:52:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:52:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:52:25] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:52:26,441] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:52:26] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:52:26] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:52:26] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:52:26] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:52:27] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:52:27] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:52:28] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:52:29,991] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:52:29] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:52:30] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:52:30] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:52:30] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:52:30] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:52:30] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:52:31] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:52:33,166] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:52:33] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:52:33] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:52:33] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:52:33] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:52:33] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:52:33] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:52:34] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:52:35,716] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:52:35] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:52:35] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:52:35] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:52:35] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:52:36] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:52:36] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:52:38] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:52:39,465] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:52:39] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:52:39] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:52:39] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:52:39] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:52:40] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:52:40] "GET /api/notifications HTTP/1.1" 200 -
[2025-11-05 12:52:40,683] ERROR in vocational_centers: Error creating center: 'name' is an invalid keyword argument for VocationalCenter
[2025-11-05 12:52:40,683] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:52:40] "POST /vocational-centers/add HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:52:40] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:52:40] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:52:42] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:52:44,215] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:52:44] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:52:44] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:52:44] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:52:44] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:52:44] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:52:44] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:52:45] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/edit HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:52:45] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:52:47] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:52:48,798] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:52:48] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:52:48] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:52:48] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:52:49] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:52:49] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:52:49] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:52:50] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/employees HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:52:50] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:52:51] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:52:52,847] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:52:52] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:52:52] "GET /dashboard/ HTTP/1.1" 302 -
[2025-11-05 12:52:52,863] ERROR in app: Exception on /dashboard/admin [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'dashboard.admin_dashboard', 61, '2025-11-05 11:52:52.862261', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 12:52:52] "GET /dashboard/admin HTTP/1.1" 500 -
[2025-11-05 12:52:53,476] ERROR in app: Exception on /vocational-centers/ [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'vocational_centers.list_centers', 62, '2025-11-05 11:52:53.474401', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 12:52:53] "GET /vocational-centers/ HTTP/1.1" 500 -
127.0.0.1 - - [05/Nov/2025 12:53:06] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:53:07,363] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:53:07] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:53:07] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:53:07] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:53:07] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:53:08] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:53:08] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:53:08] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:53:09,921] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:53:09] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:53:09] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:53:09] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:53:10] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:53:10] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:53:10] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:53:10] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:53:11] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:53:12,904] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:53:12] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:53:12] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:53:12] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:53:13] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:53:13] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:53:13] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:53:14] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:53:15,438] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:53:15] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:53:15] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:53:15] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:53:15] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:53:16] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:53:16] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:53:16] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:53:18,053] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:53:18] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:53:18] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:53:18] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:53:18] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:53:19] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:53:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:53:19] "GET /auth/login HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:53:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:53:21] "GET /api/notifications HTTP/1.1" 200 -
[2025-11-05 12:53:21,920] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:53:21] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:53:21] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:53:21] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:53:22] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:53:22] "GET /vocational-centers/99999/detail HTTP/1.1" 404 -
127.0.0.1 - - [05/Nov/2025 12:53:23] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:53:25,044] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:53:25] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:53:25] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:53:25] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:53:25] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:53:25] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:53:25] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:53:26] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:53:27,844] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:53:27] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:53:27] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:53:27] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:53:28] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:53:28] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:53:28] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:53:29] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:53:30,569] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:53:30] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:53:30] "GET /dashboard/ HTTP/1.1" 302 -
[2025-11-05 12:53:30,590] ERROR in app: Exception on /dashboard/admin [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'dashboard.admin_dashboard', 61, '2025-11-05 11:53:30.588905', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 12:53:30] "GET /dashboard/admin HTTP/1.1" 500 -
[2025-11-05 12:53:31,318] ERROR in app: Exception on /vocational-centers/ [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'vocational_centers.list_centers', 62, '2025-11-05 11:53:31.316787', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 12:53:31] "GET /vocational-centers/ HTTP/1.1" 500 -
[2025-11-05 12:53:42,280] ERROR in app: Exception on /auth/login [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'auth.login', 63, '2025-11-05 11:53:42.279462', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 12:53:42] "GET /auth/login HTTP/1.1" 500 -
127.0.0.1 - - [05/Nov/2025 12:54:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:54:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:55:05] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:55:06,511] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:55:06] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:55:06] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:55:06] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:55:06] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:55:07] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:55:07] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:55:09] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:55:10,178] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:55:10] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:55:10] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:55:10] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:55:10] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:55:10] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:55:11] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:55:12] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:55:13,302] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:55:13] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:55:13] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:55:13] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:55:13] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:55:14] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:55:14] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:55:14] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:55:16,044] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:55:16] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:55:16] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:55:16] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:55:16] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:55:16] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:55:16] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:55:18] "GET /auth/login HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:55:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:55:21] "GET /api/notifications HTTP/1.1" 200 -
[2025-11-05 12:55:21,493] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:55:21] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:55:21] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:55:21] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:55:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:55:22] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:55:22] "GET /api/notifications HTTP/1.1" 200 -
[2025-11-05 12:55:22,963] ERROR in vocational_centers: Error creating center: 'name' is an invalid keyword argument for VocationalCenter
[2025-11-05 12:55:22,964] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:55:22] "POST /vocational-centers/add HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:55:23] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:55:23] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:55:25] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:55:27,259] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:55:27] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:55:27] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:55:27] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:55:27] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:55:28] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:55:28] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:55:28] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/edit HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:55:28] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:55:30] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:55:32,409] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:55:32] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:55:32] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:55:32] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:55:33] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:55:33] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:55:33] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:55:34] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/employees HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:55:34] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:55:35] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:55:37,552] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:55:37] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:55:37] "GET /dashboard/ HTTP/1.1" 302 -
[2025-11-05 12:55:37,570] ERROR in app: Exception on /dashboard/admin [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'dashboard.admin_dashboard', 61, '2025-11-05 11:55:37.569786', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 12:55:37] "GET /dashboard/admin HTTP/1.1" 500 -
[2025-11-05 12:55:38,261] ERROR in app: Exception on /vocational-centers/ [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'vocational_centers.list_centers', 62, '2025-11-05 11:55:38.259419', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 12:55:38] "GET /vocational-centers/ HTTP/1.1" 500 -
[2025-11-05 12:55:51,275] ERROR in app: Exception on /auth/login [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'auth.login', 63, '2025-11-05 11:55:51.274584', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 12:55:51] "GET /auth/login HTTP/1.1" 500 -
127.0.0.1 - - [05/Nov/2025 12:56:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:56:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:56:56] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:56:58,077] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:56:58] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:56:58] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:56:58] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:56:58] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:56:59] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:56:59] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:56:59] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:57:00] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:57:01,995] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:57:01] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:57:02] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:57:02] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:57:02] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:57:02] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:57:02] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:57:03] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:57:04,660] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:57:04] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:57:04] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:57:04] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:57:04] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:57:05] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:57:05] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:57:06] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:57:07,510] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:57:07] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:57:07] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:57:07] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:57:07] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:57:08] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:57:08] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:57:09] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:57:10,118] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:57:10] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:57:10] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:57:10] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:57:10] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:57:10] "GET /vocational-centers/99999/detail HTTP/1.1" 404 -
127.0.0.1 - - [05/Nov/2025 12:57:11] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:57:13,069] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:57:13] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:57:13] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:57:13] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:57:13] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:57:14] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:57:14] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:57:14] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:57:16,159] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:57:16] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:57:16] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:57:16] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:57:16] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:57:16] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:57:17] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:57:17] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:57:19,209] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:57:19] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:57:19] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:57:19] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:57:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:57:19] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:57:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:57:20] "GET /auth/login HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:57:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:57:21] "GET /api/notifications HTTP/1.1" 200 -
[2025-11-05 12:57:22,159] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:57:22] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:57:22] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:57:22] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:57:22] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:57:22] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:57:22] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:58:17] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:58:18,762] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:58:18] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:58:18] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:58:18] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:58:18] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:58:19] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:58:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:58:21] "GET /auth/login HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:58:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:58:21] "GET /api/notifications HTTP/1.1" 200 -
[2025-11-05 12:58:22,396] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:58:22] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:58:22] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:58:22] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:58:22] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:58:23] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:58:23] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:58:24] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:58:25,995] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:58:25] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:58:26] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:58:26] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:58:26] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:58:26] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:58:26] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:58:27] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:58:28,595] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:58:28] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:58:28] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:58:28] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:58:28] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:58:29] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:58:29] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:58:31] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:58:32,420] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:58:32] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:58:32] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:58:32] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:58:32] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:58:33] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:58:33] "GET /api/notifications HTTP/1.1" 200 -
[2025-11-05 12:58:33,600] ERROR in vocational_centers: Error creating center: 'name' is an invalid keyword argument for VocationalCenter
[2025-11-05 12:58:33,600] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:58:33] "POST /vocational-centers/add HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:58:33] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:58:33] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:58:35] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:58:37,111] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:58:37] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:58:37] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:58:37] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:58:37] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:58:37] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:58:37] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:58:38] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/edit HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:58:38] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:58:40] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:58:42,777] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:58:42] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:58:42] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:58:42] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:58:43] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:58:44] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:58:44] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:58:44] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/employees HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:58:44] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:58:46] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:58:47,394] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:58:47] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:58:47] "GET /dashboard/ HTTP/1.1" 302 -
[2025-11-05 12:58:47,417] ERROR in app: Exception on /dashboard/admin [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'dashboard.admin_dashboard', 61, '2025-11-05 11:58:47.415971', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 12:58:47] "GET /dashboard/admin HTTP/1.1" 500 -
[2025-11-05 12:58:48,025] ERROR in app: Exception on /vocational-centers/ [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'vocational_centers.list_centers', 62, '2025-11-05 11:58:48.022175', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 12:58:48] "GET /vocational-centers/ HTTP/1.1" 500 -
127.0.0.1 - - [05/Nov/2025 12:59:00] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:59:02,109] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:59:02] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:59:02] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:59:02] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:59:02] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:59:02] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:59:02] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:59:03] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:59:04,660] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:59:04] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:59:04] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:59:04] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:59:04] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:59:05] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:59:05] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:59:05] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:59:06] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:59:07,600] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:59:07] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:59:07] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:59:07] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:59:07] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:59:08] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:59:08] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:59:09] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:59:10,200] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:59:10] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:59:10] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:59:10] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:59:10] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:59:10] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:59:10] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:59:11] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:59:13,426] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:59:13] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:59:13] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:59:13] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:59:13] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:59:14] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:59:14] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:59:14] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:59:16,183] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:59:16] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:59:16] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:59:16] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:59:16] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:59:16] "GET /vocational-centers/99999/detail HTTP/1.1" 404 -
127.0.0.1 - - [05/Nov/2025 12:59:18] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:59:19,591] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:59:19] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:59:19] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:59:19] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:59:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:59:20] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:59:20] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:59:21] "GET /auth/login HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 12:59:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:59:21] "GET /api/notifications HTTP/1.1" 200 -
[2025-11-05 12:59:22,283] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:59:22] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:59:22] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:59:22] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:59:22] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:59:23] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:59:23] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 12:59:23] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 12:59:25,332] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 12:59:25] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 12:59:25] "GET /dashboard/ HTTP/1.1" 302 -
[2025-11-05 12:59:25,347] ERROR in app: Exception on /dashboard/admin [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'dashboard.admin_dashboard', 61, '2025-11-05 11:59:25.345968', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 12:59:25] "GET /dashboard/admin HTTP/1.1" 500 -
[2025-11-05 12:59:25,966] ERROR in app: Exception on /vocational-centers/ [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'vocational_centers.list_centers', 62, '2025-11-05 11:59:25.964748', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 12:59:25] "GET /vocational-centers/ HTTP/1.1" 500 -
[2025-11-05 12:59:36,849] ERROR in app: Exception on /auth/login [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'auth.login', 63, '2025-11-05 11:59:36.847982', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 12:59:36] "GET /auth/login HTTP/1.1" 500 -
192.168.1.7 - - [05/Nov/2025 13:00:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:00:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:01:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:01:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:01:45] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:01:46,612] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:01:46] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:01:46] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:01:46] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:01:46] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:01:47] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:01:47] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:01:49] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:01:50,179] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:01:50] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:01:50] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:01:50] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:01:50] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:01:50] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:01:50] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:01:51] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:01:53,312] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:01:53] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:01:53] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:01:53] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:01:53] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:01:54] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:01:54] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:01:54] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:01:56,379] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:01:56] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:01:56] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:01:56] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:01:56] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:01:57] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:01:57] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:01:58] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:01:59,987] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:01:59] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:01:59] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:02:00] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:02:00] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:02:00] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:02:00] "GET /api/notifications HTTP/1.1" 200 -
[2025-11-05 13:02:01,197] ERROR in vocational_centers: Error creating center: 'name' is an invalid keyword argument for VocationalCenter
[2025-11-05 13:02:01,197] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:02:01] "POST /vocational-centers/add HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:02:01] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:02:01] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:02:03] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:02:04,595] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:02:04] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:02:04] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:02:04] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:02:04] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:02:05] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:02:05] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:02:05] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/edit HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:02:05] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:02:07] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:02:09,461] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:02:09] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:02:09] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:02:09] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:02:09] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:02:10] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:02:10] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:02:11] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/employees HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:02:11] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:02:12] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:02:14,419] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:02:14] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:02:14] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:02:14] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:02:14] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:02:15] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:02:15] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:02:15] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/employees HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:02:15] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:02:17] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/employees/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:02:17] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:02:19] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:02:20,703] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:02:20] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:02:20] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:02:20] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:02:20] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:02:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:02:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:02:21] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:02:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:02:22] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:02:23,268] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:02:23] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:02:23] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:02:23] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:02:23] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:02:24] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:02:24] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:02:24] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:02:25] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:02:27,018] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:02:27] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:02:27] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:02:27] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:02:27] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:02:28] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:02:28] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:02:28] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:02:30,209] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:02:30] "POST /auth/login HTTP/1.1" 302 -
[2025-11-05 13:02:30,220] ERROR in app: Exception on /dashboard/ [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'dashboard.index', 61, '2025-11-05 12:02:30.218785', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 13:02:30] "GET /dashboard/ HTTP/1.1" 500 -
[2025-11-05 13:02:31,131] ERROR in app: Exception on /vocational-centers/add [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'vocational_centers.add_center', 62, '2025-11-05 12:02:31.129937', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 13:02:31] "GET /vocational-centers/add HTTP/1.1" 500 -
192.168.1.7 - - [05/Nov/2025 13:03:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:03:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:04:02] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:04:03,518] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:04:03] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:04:03] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:04:03] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:04:03] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:04:04] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:04:04] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:04:05] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:04:06,085] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:04:06] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:04:06] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:04:06] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:04:06] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:04:06] "GET /vocational-centers/99999/detail HTTP/1.1" 404 -
127.0.0.1 - - [05/Nov/2025 13:04:08] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:04:09,493] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:04:09] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:04:09] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:04:09] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:04:09] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:04:10] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:04:10] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:04:10] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:04:12,544] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:04:12] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:04:12] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:04:12] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:04:13] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:04:13] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:04:13] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:04:14] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:04:16,401] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:04:16] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:04:16] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:04:16] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:04:16] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:04:17] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:04:17] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:04:17] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:04:19,067] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:04:19] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:04:19] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:04:19] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:04:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:04:19] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:04:19] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:04:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:04:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:05:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:05:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:06:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:06:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:06:38] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:06:39,158] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:06:39] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:06:39] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:06:39] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:06:39] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:06:39] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:06:39] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:06:41] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:06:42,755] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:06:42] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:06:42] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:06:42] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:06:42] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:06:43] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:06:43] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:06:44] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:06:45,447] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:06:45] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:06:45] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:06:45] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:06:45] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:06:46] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:06:46] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:06:46] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:06:48,014] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:06:48] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:06:48] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:06:48] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:06:48] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:06:48] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:06:48] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:06:50] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:06:51,722] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:06:51] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:06:51] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:06:51] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:06:51] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:06:52] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:06:52] "GET /api/notifications HTTP/1.1" 200 -
[2025-11-05 13:06:52,900] ERROR in vocational_centers: Error creating center: 'name' is an invalid keyword argument for VocationalCenter
[2025-11-05 13:06:52,900] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:06:52] "POST /vocational-centers/add HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:06:52] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:06:52] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:06:55] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:06:56,696] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:06:56] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:06:56] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:06:56] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:06:56] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:06:57] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:06:57] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:06:57] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/edit HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:06:57] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:07:00] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:07:01,288] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:07:01] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:07:01] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:07:01] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:07:01] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:07:02] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:07:02] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:07:02] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/employees HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:07:02] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:07:04] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:07:05,327] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:07:05] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:07:05] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:07:05] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:07:05] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:07:06] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:07:06] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:07:07] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/employees HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:07:07] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:07:08] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/employees/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:07:08] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:07:10] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:07:12,337] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:07:12] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:07:12] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:07:12] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:07:13] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:07:13] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:07:13] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:07:14] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:07:16,612] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:07:16] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:07:16] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:07:16] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:07:17] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:07:17] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:07:17] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:07:17] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:07:18] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:07:20,102] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:07:20] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:07:20] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:07:20] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:07:20] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:07:20] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:07:20] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:07:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:07:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:07:21] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:07:22,694] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:07:22] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:07:22] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:07:22] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:07:22] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:07:23] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:07:23] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:07:24] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:07:27,327] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:07:27] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:07:27] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:07:27] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:07:27] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:07:28] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:07:28] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:07:28] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:07:30,094] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:07:30] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:07:30] "GET /dashboard/ HTTP/1.1" 302 -
[2025-11-05 13:07:30,109] ERROR in app: Exception on /dashboard/admin [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'dashboard.admin_dashboard', 61, '2025-11-05 12:07:30.108184', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 13:07:30] "GET /dashboard/admin HTTP/1.1" 500 -
[2025-11-05 13:07:30,788] ERROR in app: Exception on /vocational-centers/99999/detail [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', None, 62, '2025-11-05 12:07:30.785735', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 13:07:30] "GET /vocational-centers/99999/detail HTTP/1.1" 500 -
[2025-11-05 13:07:32,064] ERROR in app: Exception on /auth/login [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'auth.login', 63, '2025-11-05 12:07:32.063455', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 13:07:32] "GET /auth/login HTTP/1.1" 500 -
192.168.1.7 - - [05/Nov/2025 13:08:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:08:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:09:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:09:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:10:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:10:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:10:36] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:10:38,112] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:10:38] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:10:38] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:10:38] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:10:38] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:10:39] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:10:39] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:10:39] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:10:41,337] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:10:41] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:10:41] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:10:41] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:10:41] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:10:42] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:10:42] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:10:42] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:10:44,087] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:10:44] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:10:44] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:10:44] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:10:44] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:10:44] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:10:44] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:11:20] "GET /auth/login HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:11:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:11:21] "GET /api/notifications HTTP/1.1" 200 -
[2025-11-05 13:11:22,125] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:11:22] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:11:22] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:11:22] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:11:22] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:11:23] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:11:23] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:11:25] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:11:26,391] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:11:26] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:11:26] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:11:26] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:11:26] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:11:27] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:11:27] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:11:28] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:11:29,541] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:11:29] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:11:29] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:11:29] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:11:29] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:11:30] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:11:30] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:11:31] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:11:32,057] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:11:32] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:11:32] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:11:32] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:11:32] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:11:32] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:11:32] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:11:34] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:11:35,549] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:11:35] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:11:35] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:11:35] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:11:35] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:11:36] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:11:36] "GET /api/notifications HTTP/1.1" 200 -
[2025-11-05 13:11:36,736] ERROR in vocational_centers: Error creating center: 'name' is an invalid keyword argument for VocationalCenter
[2025-11-05 13:11:36,737] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:11:36] "POST /vocational-centers/add HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:11:36] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:11:36] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:11:38] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:11:40,523] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:11:40] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:11:40] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:11:40] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:11:42] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:11:43] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:11:43] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:11:43] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/edit HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:11:43] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:11:45] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:11:47,581] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:11:47] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:11:47] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:11:47] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:11:47] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:11:48] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:11:48] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:11:48] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/employees HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:11:48] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:11:50] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:11:52,039] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:11:52] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:11:52] "GET /dashboard/ HTTP/1.1" 302 -
[2025-11-05 13:11:52,056] ERROR in app: Exception on /dashboard/admin [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'dashboard.admin_dashboard', 61, '2025-11-05 12:11:52.055079', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 13:11:52] "GET /dashboard/admin HTTP/1.1" 500 -
[2025-11-05 13:11:52,718] ERROR in app: Exception on /vocational-centers/ [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'vocational_centers.list_centers', 62, '2025-11-05 12:11:52.717268', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 13:11:52] "GET /vocational-centers/ HTTP/1.1" 500 -
127.0.0.1 - - [05/Nov/2025 13:12:05] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:12:06,805] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:12:06] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:12:06] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:12:06] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:12:07] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:12:07] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:12:07] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:12:08] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:12:09,388] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:12:09] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:12:09] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:12:09] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:12:10] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:12:10] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:12:10] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:12:10] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:12:11] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:12:17,970] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:12:17] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:12:17] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:12:18] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:12:18] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:12:19] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:12:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:12:19] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:12:21,178] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:12:21] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:12:21] "GET /dashboard/ HTTP/1.1" 302 -
192.168.1.7 - - [05/Nov/2025 13:12:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:12:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:12:21] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:12:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:12:22] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:12:22] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:12:23] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:12:24,438] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:12:24] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:12:24] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:12:24] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:12:24] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:12:25] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:12:25] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:12:26] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:12:27,495] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:12:27] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:12:27] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:12:27] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:12:27] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:12:28] "GET /vocational-centers/99999/detail HTTP/1.1" 404 -
127.0.0.1 - - [05/Nov/2025 13:12:29] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:12:31,761] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:12:31] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:12:31] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:12:31] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:12:31] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:12:32] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:12:32] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:12:33] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:12:34,412] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:12:34] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:12:34] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:12:34] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:12:34] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:12:35] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:12:35] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:12:35] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:12:37,585] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:12:37] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:12:37] "GET /dashboard/ HTTP/1.1" 302 -
[2025-11-05 13:12:37,600] ERROR in app: Exception on /dashboard/admin [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'dashboard.admin_dashboard', 61, '2025-11-05 12:12:37.599393', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 13:12:37] "GET /dashboard/admin HTTP/1.1" 500 -
[2025-11-05 13:12:38,284] ERROR in app: Exception on /vocational-centers/ [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'vocational_centers.list_centers', 62, '2025-11-05 12:12:38.283224', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 13:12:38] "GET /vocational-centers/ HTTP/1.1" 500 -
127.0.0.1 - - [05/Nov/2025 13:13:09] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:13:11,266] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:13:11] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:13:11] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:13:11] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:13:11] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:13:12] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:13:12] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:13:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:13:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:13:31] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:13:33,606] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:13:33] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:13:33] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:13:33] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:13:33] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:13:34] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:13:34] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:13:36] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:13:38,298] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:13:38] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:13:38] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:13:38] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:13:38] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:13:39] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:13:39] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:13:40] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:13:41,556] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:13:41] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:13:41] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:13:41] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:13:41] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:13:42] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:13:42] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:13:43] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:13:44,130] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:13:44] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:13:44] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:13:44] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:13:44] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:13:45] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:13:45] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:13:47] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:13:48,082] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:13:48] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:13:48] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:13:48] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:13:48] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:13:48] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:13:48] "GET /api/notifications HTTP/1.1" 200 -
[2025-11-05 13:13:49,282] ERROR in vocational_centers: Error creating center: 'name' is an invalid keyword argument for VocationalCenter
[2025-11-05 13:13:49,283] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:13:49] "POST /vocational-centers/add HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:13:49] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:13:49] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:13:51] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:13:52,788] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:13:52] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:13:52] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:13:52] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:13:53] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:13:53] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:13:53] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:13:54] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/edit HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:13:54] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:13:56] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:13:58,120] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:13:58] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:13:58] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:13:58] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:13:58] "GET /api/notifications HTTP/1.1" 200 -
[2025-11-05 13:13:58,806] ERROR in app: Exception on /vocational-centers/ [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'vocational_centers.list_centers', 61, '2025-11-05 12:13:58.805151', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 13:13:58] "GET /vocational-centers/ HTTP/1.1" 500 -
127.0.0.1 - - [05/Nov/2025 13:14:09] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:14:11,070] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:14:11] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:14:11] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:14:11] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:14:12] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:14:12] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:14:12] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:14:13] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/employees HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:14:13] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:14:14] "GET /vocational-centers/c6546743-36a4-411a-bb61-abedb29d2064/employees/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:14:14] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:14:17] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:14:18,353] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:14:18] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:14:18] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:14:18] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:14:18] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:14:19] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:14:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:14:19] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:14:21,178] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:14:21] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:14:21] "GET /dashboard/ HTTP/1.1" 302 -
192.168.1.7 - - [05/Nov/2025 13:14:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:14:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:14:21] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:14:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:14:22] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:14:22] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:14:22] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:14:23] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:14:24,610] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:14:24] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:14:24] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:14:24] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:14:24] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:14:25] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:14:25] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:14:26] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:14:27,177] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:14:27] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:14:27] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:14:27] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:14:27] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:14:27] "GET /vocational-centers/add HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:14:27] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:14:28] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:14:30,135] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:14:30] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:14:30] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:14:30] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:14:30] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:14:30] "GET /vocational-centers/ HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:14:31] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:14:31] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:14:33,034] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:14:33] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:14:33] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:14:33] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:14:33] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:14:33] "GET /vocational-centers/99999/detail HTTP/1.1" 404 -
127.0.0.1 - - [05/Nov/2025 13:14:35] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 13:14:36,443] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
127.0.0.1 - - [05/Nov/2025 13:14:36] "POST /auth/login HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:14:36] "GET /dashboard/ HTTP/1.1" 302 -
127.0.0.1 - - [05/Nov/2025 13:14:36] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:14:37] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:14:37] "GET /vocational-centers/ HTTP/1.1" 200 -
[2025-11-05 13:14:37,688] ERROR in app: Exception on /api/notifications [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'api_get_notifications', 61, '2025-11-05 12:14:37.686568', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 13:14:37] "GET /api/notifications HTTP/1.1" 500 -
[2025-11-05 13:14:38,373] ERROR in app: Exception on /auth/login [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'auth.login', 62, '2025-11-05 12:14:38.372323', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 13:14:38] "GET /auth/login HTTP/1.1" 500 -
192.168.1.7 - - [05/Nov/2025 13:15:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:15:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:16:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:16:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:17:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:17:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:18:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:18:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:19:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:19:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:20:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:20:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:21:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:21:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:22:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:22:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:23:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:23:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:24:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:24:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:25:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:25:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:26:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:26:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:27:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:27:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:28:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:28:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:29:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:29:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:30:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:30:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:31:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:31:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:32:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:32:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:33:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:33:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:34:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:34:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:35:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:35:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:36:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:36:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:37:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:37:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:37:29] "GET /dashboard/admin HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:37:29] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:37:31] "GET /dashboard/ HTTP/1.1" 302 -
192.168.1.7 - - [05/Nov/2025 13:37:31] "GET /dashboard/admin HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:37:31] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:38:01] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:38:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:38:31] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:39:01] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:39:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:39:31] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:40:01] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:40:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:40:31] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:40:53] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:40:56] "GET /dashboard/admin HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:40:56] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:41:08] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:41:27] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:41:38] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:41:57] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:42:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:42:27] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:42:57] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:43:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:43:27] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:43:57] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:44:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:44:27] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:45:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:45:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:46:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:46:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:47:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:47:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:48:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:48:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:49:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:49:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:50:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:50:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:51:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:51:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:52:01] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:52:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:52:27] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:52:57] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:53:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:53:58] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:54:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:54:59] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:55:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:56:00] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:56:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:57:01] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:57:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:58:02] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:58:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 13:59:03] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 13:59:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:00:04] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:00:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:01:05] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:01:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:02:06] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:02:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:03:07] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:03:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:04:08] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:04:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:05:09] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:05:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:06:10] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:06:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:07:11] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:07:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:08:12] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:08:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:09:13] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:09:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:10:14] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:10:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:11:15] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:11:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:12:16] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:12:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:13:17] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:13:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:14:18] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:14:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:15:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:15:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:16:20] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:16:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:17:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:17:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:18:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:18:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:19:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:19:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:20:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:20:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:21:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:21:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:21:59] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:22:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:22:27] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:22:57] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:23:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:23:30] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:23:30] "GET /dashboard/admin HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:23:30] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:23:32] "GET /dashboard/admin HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:23:32] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:23:32] "GET /dashboard/admin HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:23:32] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:23:33] "GET /dashboard/admin HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:23:33] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:23:41] "GET /dashboard/admin HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:23:41] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:23:42] "GET /dashboard/admin HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:23:42] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:23:42] "GET /dashboard/admin HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:23:42] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:23:45] "GET /admin/users HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:23:45] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:24:02] "GET /dashboard/ HTTP/1.1" 302 -
192.168.1.7 - - [05/Nov/2025 14:24:02] "GET /dashboard/admin HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:24:02] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:24:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:24:33] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:25:03] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:25:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:25:33] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:26:03] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:26:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:26:33] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:27:03] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:27:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:27:33] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:28:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:28:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:29:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:29:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:30:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:30:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:31:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:31:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:32:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:32:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:33:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:33:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:34:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:34:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:35:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:35:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:36:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:36:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:37:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:37:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:38:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:38:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:39:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:39:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:40:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:40:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:41:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:41:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:42:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:42:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:43:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:43:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:44:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:44:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:45:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:45:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:46:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:46:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:47:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:47:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:48:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:48:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:49:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:49:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:50:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:50:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:51:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:51:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:52:00] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:52:02] "GET /dashboard/admin HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:52:02] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:52:04] "GET /auth/logout HTTP/1.1" 302 -
192.168.1.7 - - [05/Nov/2025 14:52:04] "GET /auth/login HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:52:06] "GET /auth/login HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:52:07] "GET /auth/login HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:52:08] "GET /auth/login HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:52:09] "GET /auth/login HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:52:09] "GET /auth/login HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:52:10] "GET /auth/login HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:52:10] "GET /auth/login HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:52:11] "GET /auth/login HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:52:11] "GET /auth/login HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:52:11] "GET /auth/login HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:12] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:13] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:13] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:13] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:13] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:14] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:14] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:14] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:14] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:15] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:15] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:15] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:15] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:16] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:16] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:16] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:16] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:17] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:17] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:17] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:17] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:18] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:18] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:18] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:18] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:18] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:18] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:18] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:18] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:19] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:19] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:19] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:19] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:20] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:20] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:20] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:20] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:20] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:20] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:21] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:21] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:21] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:21] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:21] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:22] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:22] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:22] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:22] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:22] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:22] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:22] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:22] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:23] "GET /dashboard/admin HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:23] "GET /api/notifications HTTP/1.1" 200 -
127.0.0.1 - - [05/Nov/2025 14:52:23] "GET /dashboard/admin HTTP/1.1" 200 -
[2025-11-05 14:52:23,771] ERROR in app: Exception on /api/notifications [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'api_get_notifications', 61, '2025-11-05 13:52:23.769753', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 14:52:23] "GET /api/notifications HTTP/1.1" 500 -
[2025-11-05 14:52:24,298] ERROR in app: Exception on /dashboard/admin [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'dashboard.admin_dashboard', 62, '2025-11-05 13:52:24.296685', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 14:52:24] "GET /dashboard/admin HTTP/1.1" 500 -
[2025-11-05 14:52:25,450] ERROR in app: Exception on /dashboard/admin [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'dashboard.admin_dashboard', 63, '2025-11-05 13:52:25.449055', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 14:52:25] "GET /dashboard/admin HTTP/1.1" 500 -
[2025-11-05 14:52:27,296] ERROR in app: Exception on / [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'index', 64, '2025-11-05 13:52:27.294379', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 14:52:27] "GET / HTTP/1.1" 500 -
192.168.1.7 - - [05/Nov/2025 14:52:32] "GET /auth/login HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:52:33] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 14:52:37,099] ERROR in app: Exception on / [GET]
Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: rate_limit_violations

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 266, in check_rate_limit
    if not RateLimitMiddleware.check_rate_limit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\security_middleware.py", line 109, in check_rate_limit
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\Program Files\CfpaZMS\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: rate_limit_violations
[SQL: INSERT INTO rate_limit_violations (user_id, ip_address, endpoint, request_count, timestamp, action_taken) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: (None, '127.0.0.1', 'index', 65, '2025-11-05 13:52:37.097440', 'blocked')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [05/Nov/2025 14:52:37] "GET / HTTP/1.1" 500 -
192.168.1.7 - - [05/Nov/2025 14:53:41] "GET /auth/login HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:53:42] "GET /auth/login HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:53:58] "GET /auth/login HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:53:59] "GET /auth/login HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:54:00] "GET /auth/login HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:54:01] "GET /auth/login HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:55:55] "GET /auth/login HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:56:01] "GET /auth/login HTTP/1.1" 200 -
[2025-11-05 14:56:15,969] ERROR in security_middleware: Error logging request: type object 'SecurityLog' has no attribute 'log_action'
192.168.1.7 - - [05/Nov/2025 14:56:15] "POST /auth/login HTTP/1.1" 302 -
192.168.1.7 - - [05/Nov/2025 14:56:15] "GET /dashboard/ HTTP/1.1" 302 -
192.168.1.7 - - [05/Nov/2025 14:56:16] "GET /dashboard/admin HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:56:16] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:56:24] "GET /auth/profile HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:56:24] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:56:41] "GET /dashboard/ HTTP/1.1" 302 -
192.168.1.7 - - [05/Nov/2025 14:56:41] "GET /dashboard/admin HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:56:41] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:57:12] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:57:42] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:58:11] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:58:42] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:59:12] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 14:59:42] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 15:00:12] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 15:00:36] "GET /dashboard/admin HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 15:00:37] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 15:00:39] "GET /dashboard/admin HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 15:00:39] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 15:01:10] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 15:01:40] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 15:02:10] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 15:02:40] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 15:03:10] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 15:03:40] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 15:04:10] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 15:05:11] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 15:06:12] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 15:07:13] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 15:08:14] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 15:09:15] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 15:10:16] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 15:11:17] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 15:12:18] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 15:12:40] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 15:13:10] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 15:13:40] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 15:14:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 15:15:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 15:16:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 15:17:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 15:18:21] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 15:18:43] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 15:19:10] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 15:19:40] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 15:20:10] "GET /api/notifications HTTP/1.1" 200 -
192.168.1.7 - - [05/Nov/2025 15:20:40] "GET /api/notifications HTTP/1.1" 200 -
